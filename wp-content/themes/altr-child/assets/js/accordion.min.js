class Accordion{constructor(e,{items:t=[]}){if(!e||!e.startsWith("#")&&!e.startsWith("."))throw Error("No has introducido un selector v\xe1lido. Debe ser una cadena de texto y debe empezar por # o .");for(let i of(this.container=document.querySelector(e),t))if(!i.hasOwnProperty("title")||!i.hasOwnProperty("content"))throw Error('Los elementos del accordion deben tener los atributos "title" y "content"');this.items=t,this.initAccordion(),this.initEventListeners()}initAccordion(){this.items.forEach(e=>{let t=e.title,i=e.content,o=document.createElement("h4"),n=document.createElement("p"),r=document.createElement("div");r.classList.add("accordion-item");let c=document.createElement("div");c.classList.add("accordion-header"),o.innerHTML=t,c.appendChild(o);let s=document.createElement("div");s.classList.add("accordion-content"),n.innerHTML=i,s.appendChild(n),r.appendChild(c),r.appendChild(s),this.container.appendChild(r)})}initEventListeners(){let e=document.querySelectorAll(".accordion-item"),t=document.querySelectorAll(".accordion-content"),i=document.querySelectorAll(".accordion-header");e.forEach(e=>{let o=e.querySelector(".accordion-header");o.addEventListener("click",function(){let o=this;i.forEach(e=>{if(e===o){e.classList.toggle("active");return}e.classList.remove("active")}),t.forEach(t=>{let i=t.parentElement;if(i===e){if(i.classList.toggle("show"),i.classList.contains("show")){let o=t.childNodes,n=[...o].reduce((e,t)=>{let i=window.getComputedStyle(t),o=parseInt(i.marginTop),n=parseInt(i.marginBottom),r=parseInt(i.paddingTop),c=parseInt(i.paddingBottom),s=t.offsetHeight+o+n+r+c;return e+s},0);t.style.maxHeight=n+"px";return}}else i.classList.remove("show");t.removeAttribute("style")})})})}}
